{"componentChunkName":"component---src-templates-blog-post-js","path":"/7/","result":{"data":{"site":{"siteMetadata":{"title":"Minsuh's Dev Blog"}},"markdownRemark":{"id":"0e253321-75c5-5fbd-a770-bb19a8f67a0d","excerpt":"앞선 글에서 정리했던 Java Console 주식 서비스의 기능들을 구현하기 위한 API를 구상해보았습니다. 그리고 이를 더 쉽게 보기 위해서 프로젝트에 Swagger…","html":"<p>앞선 글에서 정리했던 Java Console 주식 서비스의 기능들을 구현하기 위한 API를 구상해보았습니다.</p>\n<p>그리고 이를 더 쉽게 보기 위해서 프로젝트에 Swagger를 추가하여 조금 더 쉽게 요청을 테스트하고 확인할 수 있도록 했습니다.</p>\n<p>우선 앞선 기능들을 정리하면 아래와 같습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">- 사용자 관련 기능\n    - 사용자 등록\n    - 사용자 삭제\n    - 사용자 조회\n    - 주식 구매\n    - 주식 판매\n- 주식 관련 기능\n    - 주식 등록\n    - 주식 삭제\n    - 주식 조회</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이 각각의 기능을 하나의 API로 설정하고자 했습니다.</p>\n<p>이를 바탕으로 이번 글에서는 Swagger를 설정하고 기본적으로 API를 정의하는 코드에 대해서 살펴보고자 합니다.</p>\n<h3>프로젝트에 Swagger 추가하기</h3>\n<p>우선 작업을 시작하기 전에 Swagger를 프로젝트에 추가하고자 했습니다.</p>\n<p><a href=\"https://swagger.io/\">https://swagger.io/</a></p>\n<p>Swagger에 대한 공식 문서는 위에서 확인할 수 있습니다.</p>\n<p>그럼 이제 본격적으로 프로젝트에 Swagger를 추가해보겠습니다.</p>\n<h4>Dependency 추가하기</h4>\n<p>저는 처음에 Maven으로 프로젝트를 설정했기 때문에 pom.xml 파일에 dependency를 추가해줬습니다.</p>\n<p>pom.xml 파일에 아래 내용을 바로 추가해주는 것도 가능하고,</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-xml line-numbers\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.springdoc<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>springdoc-openapi-starter-webmvc-ui<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>2.4.0<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>vscode를 사용한다면 IDE에서 dependency를 검색해서 추가하는 것도 가능합니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 293px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e0b454b007c92a238e9be3fcf792e422/3cf3e/maven_add_dependency.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 120.88607594936708%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAACXBIWXMAAAsTAAALEwEAmpwYAAADk0lEQVR42pVVXY/aVhCN+lL1MVITtStldwFjYxtYwNhgbGzAmA+zS9glStQNjZJqVSVVpDz0qVKltr/8dM4lBvZD6vZhNPb1nXPPnJk7fuJ5HobDITqdDmy7il4vwHyeIU0nWCwWsCwbum7AMCr/YSaKxRKe9Ho9XF9fo9/vS7AF3+9hMpkiSRJMpzNUq7X/B9hqtdBsNkHP4HbbxWp1KezOsVy+RK1WR6FQfAToV0DHcQSkDXoCdru+YphlmUo9yxY4P79QwOWy/jjA3KrVqmKYJGOMx6my4XCkjOuPZpgbi8JAMhqPx7i4eImrq7X4pZKA38mS6R9avvYAw5qqMtOczTI0Gi0cH5+ojdSRngc2my3U6nUlA989r6Ps5OT0NqBpWmozNZzP53BdTwWRWb1+plqo0WAB28pzL+PobbuG09PCfUDSZ+tQP7YOezEMQ8WaWrKVWKzLyyslRRj2FUtmdw+QwhoVE6YwcRxXNnpIRMuwH6kDyFbTysqomSaHa1/1Y2Eoyy3AimGgouuwTRNd0STwfQzjGKNBjKgfwDIr0DUNRllDuVRCWZ71AysW7jDU7TNoVgM1R4BmSzi9AdLFFabLV7CaHRwVDLzQLBSMKkpmXVmxUpP3mni5ACU9BxRxpQBPw7f4LrrB9+lH6KsvMNa/I7z5B2fXf8D/5W+0f/4T3Q9/4fn0E77pvMO3wXscZZ/xYvEZz7IveFpPDhiKsEfuHM86K/zYXaEyeYv64gP89a9wVzcI3/yG7vojgtefYEw2eC57juPX0NINtOQnHAWv8IPl3U7ZMnTRUEQvFhD2fERBIFp6iKTKoQyRNBlhNpmIpZjIcxJHGEZ9DPoh7Io09unJnaJULFVpW1rA9wME0hK0wWCoWmY0SrbXUTwtjmV9JNdS5CqXH6qytAzLn48x3pogCBUYQZNke7+jKBKLZW0gYy9SF4D9qwA5tnLbA9oKjE3L4G2Tj9XQZVMThE1PUI44HrjrQ07q6XQqjHxZNO4BBuL3DBMFytR5QBwP1HOr5ajmVoCBCL9erxUTXdd3gNuUQ5UygwmYa8hU+U5AsuRg2AE+pCGHAQHJkOml6WHKcwVMI3OudzrdvYac1mTHn1U+LHlXdynfYUiQfPjGci3J0nXdPSBT3mw2snl4a8TzV0BQMiUIg0eqVbbp0jiFmLLjtPcpP8SQKTPVbfBAhu18N7Y4zTkvD42H5oD/Ap+ODFf6woE7AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Dependency 추가\"\n        title=\"\"\n        src=\"/static/e0b454b007c92a238e9be3fcf792e422/3cf3e/maven_add_dependency.png\"\n        srcset=\"/static/e0b454b007c92a238e9be3fcf792e422/c26ae/maven_add_dependency.png 158w,\n/static/e0b454b007c92a238e9be3fcf792e422/3cf3e/maven_add_dependency.png 293w\"\n        sizes=\"(max-width: 293px) 100vw, 293px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>이렇게 vscode의 maven 툴에서 Dependencies 옆의 + 버튼을 누르면 아래와 같이 상단에 팔레트에서 dependency를 검색할 수 있습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 617px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1699656a2b55066be9fe6b51a48f1358/bc962/select_dependency.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.49367088607595%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABz0lEQVR42o2Ty27TQBSG8wLAig2b5uJbnNpxfLfHnosztknTQgVISJQd4v0f4ed40kaoDRWLT2dmpPnmP+PxjEkNNR4h9IhuvDG14oroXlCL/auUrcLMDyLkTBAcWc2RVg2irEQY59gmBYJdZsYhVT+M/8lmm8DxA8xs24aSCjeHAwTn0Ps9tNbo+x5SCJRFAVbXSNMUi/kCq+UK1uoyq+USM8f1wLkgwQDWckiSCy7NWkvzumaGLMux2VzDW/uwbfcFluXC91wSOi6EkBiG0QiUUpATUpr5BGMN4jhBFO2M1LJskjjPcLGk9GfhOJ6Ee2p5kj0Jp2RTQt/fmA2XZQ4mz8K0/CjUujd1oqpqFEWJJEmxNi2eNlwS/c05Ydd1JkXTtKYGQQjPW58TPfHfQkEfYkrISKhU9yhu6C475JQ0TXNKXJmDXhOfhDQQbYOBnkrLGDopoAQHpzVFz4ZVFcqc7rEsEIUhHMu6iEuYZ2OtAzT9Hfa331B1B/DhFo0+gmn6aw73VI9IWo2M94hZh7m/w3x9AT/GleVj9iGo4Y8/kd0+4Hr8gfjzb2zvftH4AeHwHZb4glV7D1d+xVX9CW9CjXfb/hkab6OPeO9l+AMZ8321oz31OgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Dependency 선택\"\n        title=\"\"\n        src=\"/static/1699656a2b55066be9fe6b51a48f1358/bc962/select_dependency.png\"\n        srcset=\"/static/1699656a2b55066be9fe6b51a48f1358/c26ae/select_dependency.png 158w,\n/static/1699656a2b55066be9fe6b51a48f1358/6bdcf/select_dependency.png 315w,\n/static/1699656a2b55066be9fe6b51a48f1358/bc962/select_dependency.png 617w\"\n        sizes=\"(max-width: 617px) 100vw, 617px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><code class=\"language-text\">springdoc</code> 으로 검색어를 입력하여 <code class=\"language-text\">springdoc-openapi-starter-webmvc-ui</code>를 선택해주면 됩니다.</p>\n<p>직접 pom.xml 파일에 추가하는 방식은 최신 버전을 찾아서 직접 입력해줘야하는 반면에 두 번째 방식으로 진행하게되면 자동으로 pom.xml에 dependency를 추가할 때, 최신 버전으로 설정됩니다.</p>\n<p><a href=\"https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-starter-webmvc-ui\">https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-starter-webmvc-ui</a></p>\n<p>해당 dependency의 최신 버전은 여기서 확인할 수 있습니다.</p>\n<h4>swagger-ui 확인하기</h4>\n<p>위의 dependency 설정을 추가한 후에 스프링부트 프로젝트를 실행시키면 자동으로 <code class=\"language-text\">/swagger-ui/index.html</code> 엔드포인트가 생성되는 것을 확인할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">http://localhost:8080/swagger-ui/index.html</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>그래서 이런식으로 내 프로젝트가 돌고 있는 서버 url에  <code class=\"language-text\">/swagger-ui/index.html</code>을 붙여주면 내 프로젝트의 api document를 확인할 수 있습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1d4ddb6128ea8bb32ca871e6a3ae1fad/8ae78/swagger_ui.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.55696202531645%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB5klEQVR42pXSS27TQADGcZ+FSl1xAMoKJIR6BRasuAaIBQs4BAtArKEtUISEqNQVq0Ztkyhp0iS2x3bsJE5sjx9xbP+ZeE1SRZqfZjSPbx4a7dGz+zw5fMzBg4fs7++zt3eP129ecvTtC0ffjzk5Pdro+MdXfv465d37Vzx/+5TDFwdo160rms0Wl5dXNBoNLi4adDs3dPstBnoby7IVawubkTGkP1qv6aCZlkd/YKAbAsO0GY5UW3cQbo+JbFGVUJaFUm5UlRWosqbFWU62XFEWBcVqxaqW15OKvGS5XO5Ek1ISxzFJkpJlGWmaqoG8Di2rgqqqdqJ5k6m6qoUQ6q1sB1NYOGOXMAx3DqsDs1SSxgFpkpCrIxfFqrY+4S7yfFnTepbkb3uGaU+xvTnTuSSMl/+Rb7WIMkKZoZ0ZPp87Hl3hMHCnNeGHeDLFjZLaOIpxwu2sQOIGEdqfyRWfxBldW+fWFfQ9wXDmYCxc9LmLoZjBBFvOcGJ/I0uNu9JfBzb5aJ7TdXRuHKOu22LI9ahHU+/TMgb1JuvQcTK/O/C3NeJDr0lHCDqmoKt+/436/bfjsbq+y8DzMH21IFjgROFGVhjgKlrTLjnvVziTEHuiOn2Jt0iYy5wgKVjEq7p9Fz9SdZTxD0amwwEtXAzrAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Swagger UI\"\n        title=\"\"\n        src=\"/static/1d4ddb6128ea8bb32ca871e6a3ae1fad/f058b/swagger_ui.png\"\n        srcset=\"/static/1d4ddb6128ea8bb32ca871e6a3ae1fad/c26ae/swagger_ui.png 158w,\n/static/1d4ddb6128ea8bb32ca871e6a3ae1fad/6bdcf/swagger_ui.png 315w,\n/static/1d4ddb6128ea8bb32ca871e6a3ae1fad/f058b/swagger_ui.png 630w,\n/static/1d4ddb6128ea8bb32ca871e6a3ae1fad/40601/swagger_ui.png 945w,\n/static/1d4ddb6128ea8bb32ca871e6a3ae1fad/8ae78/swagger_ui.png 1096w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span><em>이미 API를 작성한 코드라서 아래에 API 목록이 뜨는 것을 확인할 수 있는데, 처음에는 빈 화면이 뜰 겁니다!</em></p>\n<h3>API 추가하기</h3>\n<p>이제 Controller에 API를 정의해보겠습니다. (큰 구조는 다음 글에서 다루고 제가 만들고자하는 API 리스트와 Swagger description 추가하는 부분 위주로 정리했습니다.)</p>\n<p>우선 API는 Player API와 Stock API로 분류하여 총 두 개의 Controller를 정의했습니다.</p>\n<p>Player API에서는 앞선 기능 목록 중 <code class=\"language-text\">사용자 관련 기능</code>을 정의했고, Stock API에서는 <code class=\"language-text\">주식 관련 기능</code>을 정의했습니다.</p>\n<p>API 리스트는 아래 사진과 같습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4f1d90d4cca04087c66ef0c34e4bc15b/21335/api_list.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABcklEQVR42pXRUU/bMBQF4Pz/v8Hb4AGkSQgh3qYhpj1uWomTNU0d27HjNHGc2iloZ7eG16rw8Em24nt0lZMZ3UIKgb7fwbkJMS5YlsOnHedCiMjuV694WEWsuUatBnA9Qo8Rxi0kJh2dzzHHmSEgu9r+ws32N1Z8i5K2LVoFPvRo9xPk7KCI9ONZYhog3Q7ZpfiBG/ETrKnB1BZMvskF3WWdzpVVaEZD4buTpO+hpv4Y+B3X4gml4mAthakaz3KDP3yNVUNEhbWV4K6jjfuThLeQk6XAvMM161DwFjn9RyYMClJ3IzbvmsEnYpxPSt9JVvIItvFodQ9jHSa/JPvwihDf7MPLWfP+6ICsMCVyxaCtQbezcFTCRIXMcSb+3XyWDz7NZRf8GV8ahkIp5NRwYVpUFNxQc5/BqeXGDci+PUo8PknUdYumsYkxDtb6pP8g2030njb8d/sVL/d3MFUFXf5N7LqC4xyBtj4Y8yGL1ghG4z952Twzf9Y0nwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"API 목록\"\n        title=\"\"\n        src=\"/static/4f1d90d4cca04087c66ef0c34e4bc15b/f058b/api_list.png\"\n        srcset=\"/static/4f1d90d4cca04087c66ef0c34e4bc15b/c26ae/api_list.png 158w,\n/static/4f1d90d4cca04087c66ef0c34e4bc15b/6bdcf/api_list.png 315w,\n/static/4f1d90d4cca04087c66ef0c34e4bc15b/f058b/api_list.png 630w,\n/static/4f1d90d4cca04087c66ef0c34e4bc15b/40601/api_list.png 945w,\n/static/4f1d90d4cca04087c66ef0c34e4bc15b/21335/api_list.png 1082w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h4>Controller 구성하기</h4>\n<p>이제 Controller 별로 API를 구분하고 설명을 작성하기 위해 annotaion을 추가해줬습니다.</p>\n<p><code class=\"language-text\">PlayerController</code>의 코드를 살펴보면 아래와 같습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>생략<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/players\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@Tag</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"Player API\"</span><span class=\"token punctuation\">,</span> description <span class=\"token operator\">=</span> <span class=\"token string\">\"Player 관련 API\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">PlayerController</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>생략<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<ul>\n<li>\n<p><code class=\"language-text\">@RequestMapping</code></p>\n<p>PlayerController의 기본 url mapping은 <code class=\"language-text\">/players</code>로 잡아주었습니다.</p>\n<p>해당 controller에서 정의되는 API는 모두 <code class=\"language-text\">base_url/players</code>를 base로 가지도록 정의됩니다.</p>\n</li>\n<li>\n<p><code class=\"language-text\">@Tag</code></p>\n<p>controller에 <code class=\"language-text\">Tag</code> annotation을 추가하면 아래 사진처럼 Swagger UI에 해당 API에 대한 description을 추가할 수 있습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/01cf91445f7664759d24151066e6f8b7/ffe34/api_description.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 5.063291139240507%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAKUlEQVR42mN49uzF/6dPn/9/8/bd/48fPv3//uPH/1+/fpGFv3///h8ANM5NvO0yZFYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"API 설명\"\n        title=\"\"\n        src=\"/static/01cf91445f7664759d24151066e6f8b7/f058b/api_description.png\"\n        srcset=\"/static/01cf91445f7664759d24151066e6f8b7/c26ae/api_description.png 158w,\n/static/01cf91445f7664759d24151066e6f8b7/6bdcf/api_description.png 315w,\n/static/01cf91445f7664759d24151066e6f8b7/f058b/api_description.png 630w,\n/static/01cf91445f7664759d24151066e6f8b7/40601/api_description.png 945w,\n/static/01cf91445f7664759d24151066e6f8b7/ffe34/api_description.png 1055w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n</li>\n</ul>\n<h4>API 정의하기</h4>\n<p>실제 API 정의는 다음과 같이 할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Operation</span><span class=\"token punctuation\">(</span>summary <span class=\"token operator\">=</span> <span class=\"token string\">\"ID로 사용자 조회\"</span><span class=\"token punctuation\">,</span> \n           description <span class=\"token operator\">=</span> <span class=\"token string\">\"ID를 받아 해당 사용자를 반환한다.\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/{id}\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">PlayerDto</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">getPlayerById</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@PathVariable</span> <span class=\"token class-name\">String</span> id<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">PlayerDto</span> response <span class=\"token operator\">=</span> playerService<span class=\"token punctuation\">.</span><span class=\"token function\">getPlayerByPlayerId</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>response <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token punctuation\">.</span><span class=\"token function\">notFound</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token punctuation\">.</span><span class=\"token function\">ok</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token punctuation\">.</span><span class=\"token function\">status</span><span class=\"token punctuation\">(</span><span class=\"token number\">400</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>위의 코드에서 확인할 수 있는 ID를 통해 사용자를 조회하는 API를 기준으로 정리를 해보겠습니다.</p>\n<ul>\n<li>\n<p><code class=\"language-text\">@Operation</code></p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Operation</span><span class=\"token punctuation\">(</span>summary <span class=\"token operator\">=</span> <span class=\"token string\">\"ID로 사용자 조회\"</span><span class=\"token punctuation\">,</span> description <span class=\"token operator\">=</span> <span class=\"token string\">\"ID를 받아 해당 사용자를 반환한다.\"</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>이 Annotation은 Swagger UI에 해당 API의 설명을 추가해줍니다.</p>\n</li>\n<li>\n<p><code class=\"language-text\">@GetMapping</code></p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/{id}\"</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>해당 Annotationadmf 통해 API의 method 및 url 설정해줄 수 있습니다. 여기서는 GetMapping으로 설정해주었으므로 GET method로 정의했음을 확인할 수 있고, url은 <code class=\"language-text\">/{id}</code>로 설정해주었기 때문에 PathVariable로 사용자의 id를 받아서 해당 id를 가진 사용자의 정보(<code class=\"language-text\">PlayerDto</code>)를 반환함을 확인할 수 있습니다.</p>\n</li>\n</ul>\n<p>이런 방식으로 annotation을 활용하여 다른 API들도 정의해주었습니다.</p>\n<p>이번 글에서는 API를 정의하는 과정까지만 정리하고 다음 글에 이어서 전체 구조를 그리면서 스프링부트 프로젝트 내의 코드에 흐름에 대해서 정리해보겠습니다!</p>","frontmatter":{"title":"[SpringBoot] 스프링부트 프로젝트 시작하기 - 3","date":"March 24, 2025","description":"API 정의하기 (feat. Swagger)"},"fields":{"slug":"/7/"},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EC%97%90-swagger-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\">프로젝트에 Swagger 추가하기</a></p>\n<ul>\n<li><a href=\"#dependency-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\">Dependency 추가하기</a></li>\n<li><a href=\"#swagger-ui-%ED%99%95%EC%9D%B8%ED%95%98%EA%B8%B0\">swagger-ui 확인하기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#api-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\">API 추가하기</a></p>\n<ul>\n<li><a href=\"#controller-%EA%B5%AC%EC%84%B1%ED%95%98%EA%B8%B0\">Controller 구성하기</a></li>\n<li><a href=\"#api-%EC%A0%95%EC%9D%98%ED%95%98%EA%B8%B0\">API 정의하기</a></li>\n</ul>\n</li>\n</ul>"},"previous":{"fields":{"slug":"/6/"},"frontmatter":{"title":"블로그 반응형으로 만들기"}},"next":null},"pageContext":{"id":"0e253321-75c5-5fbd-a770-bb19a8f67a0d","previousPostId":"9609440a-00ae-5dee-a66a-ec85c924bb4b","nextPostId":null}},"staticQueryHashes":["2841359383","3257411868"],"slicesMap":{}}