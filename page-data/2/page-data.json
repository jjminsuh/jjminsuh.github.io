{"componentChunkName":"component---src-templates-blog-post-js","path":"/2/","result":{"data":{"site":{"siteMetadata":{"title":"Minsuh's Dev Blog"}},"markdownRemark":{"id":"322b7b21-7620-52e3-89f7-fb4030577ce1","excerpt":"…","html":"<p>* 과거에 제가 네이버 블로그에 작성했던 글을 가져왔습니다.</p>\n<p>인턴을 마치고 이전부터 안드로이드 앱으로 만들어보고 싶었던 프로젝트를 시작했다.</p>\n<p>프로젝트를 진행하면서 공부한 기술 스택들을 정리해 보려고 한다.</p>\n<p>사실 어느 정도 프로젝트를 진행한 상태에서 블로그 글을 쓰고 있어서 앞으로 쓰는 내용에서 코드가 중간중간 빠져있을 수도 있고, 주제와 관련 없는 다른 내용이 막 섞여있을 수도 있을 것 같다.</p>\n<br>\n<p>아무튼 첫 번째 주제는 ViewModel 활용하기이다.</p>\n<p>이전에 안드로이드 앱을 개발할 때에는 Activity나 Fragment 클래스에 무작정 모든 코드를 다 넣는 방식으로 코딩을 했다.</p>\n<p>이렇게 하면 Activity와 Fragment가 거대해지고,</p>\n<p>(더 복잡한 앱을 개발하다 보면 코드가 엄청 길어지고 복잡해질 것이다.)</p>\n<p>결국 코드의 유지 보수가 어려워질 것이다.</p>\n<p>그래서 App Achitecture라는 것이 필요하고, MVVM을 적용해 보기로 했다.</p>\n<p>(이를 구현하기 위해 ViewModel을 활용하고자 한다!)</p>\n<br>\n<p>우선 MVVM의 개념을 간단히 정리해 보자면</p>\n<p>MVVM - Model, View, ViewModel의 약자이다.</p>\n<ol>\n<li>\n<p>Model에서는 데이터를 준비한다. (예를 들어 DB API 등을 관리하는 역할)</p>\n</li>\n<li>\n<p>ViewModel에서는 데이터를 읽고 수정하는 일들을 처리한다.</p>\n</li>\n<li>\n<p>View에서는 UI에 데이터를 띄워주는 역할을 한다.</p>\n</li>\n</ol>\n<p>즉, ViewModel에서는 데이터를 읽고 수정하고,</p>\n<p>View의 역할을 하는 Fragment나 Activity에서는 ViewModel의 데이터를 observing 하고 있다가 변화가 감지되면 이를 UI에 적용하는 방식이다.</p>\n<br>\n<p>이것저것 자료를 찾아보고 안드로이드에서 제공하는 ViewModel을 활용하여 MVVM의 ViewModel로 사용하고자 했다. (아래는 ViewModel에 대한 내용을 정리한 Android Developers 문서이다.)</p>\n<ul>\n<li><a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel?hl=ko\">https://developer.android.com/topic/libraries/architecture/viewmodel?hl=ko</a></li>\n</ul>\n<p>사실 이 ViewModel은 이전에 Bottom Navigation이 구현되어 있는 프로젝트를 만들 때 기본으로 구현되어 있는 것을 본 적이 있었다.(하지만 그때는 제대로 사용하지 못했다.)</p>\n<p>이번 프로젝트도 기본으로 제공되는 형태의 하단 탭을 사용하기 위해서 Bottom Navigation Activity로 기본 프로젝트를 생성했다.</p>\n<p>아래 사진처럼 처음 프로젝트를 생성할 때 Bottom Navigation Activity를 클릭하고 Next를 눌러서 프로젝트를 생성하면</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/16449ead89f8795ef134c56ea8ea8eff/612f7/new_project_image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.39240506329114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACq0lEQVR42m1SXUgUURjd13qI3iIIIjAz3TV1Z3d2dv7uzM7srruGEv5sRkI/CIaRZUq6RWlk9lJha60b/iC9FPRiakkQ1UtPaYWQGi5ZT0Fv1UOwcPruJUHQgcMMd8493/nO93nsuAvbcWBaFth/GIzBsCIwbQc6s2E5UQRCYXR2dWN6ZhYPsiPEscX/bDaH6akZdHRcQFBR4fGFLJSrEXjpXSozHCT4QiYYkZ1YNWw3BjeewKEqCaPjE+DPaj4vxPi/r2tr4iyby4minrJwBD7VEUIHAiaKCV7ZhG5aiETjQpRFXFQFZNwdyuD3n1949zIjOuDn8+8/4NtyHhfPnodKdzyOG4UbjcEwGUxmCRiEsG5CkhUBRdNF6xpdMEQMDJrBxBl3apKwYcdEAY9OlTiJqwsQSVENGIkk4sN3EMvdA2tuRlgKIdLehtrxEUQH+gSP59jZlkGufxAnm2KQNXKoGiRC4NWFAyJJlEV901EUCgWRz6XeyygqKcXExCR+oICPKyuweMYUyaeVJfzEX+Qyt1AhBeFZF1oHb4OH27BBsKc3jf0lZRgfH8Pjhc94Nb8EhzYjkTyM2bdv8HTxO0bHJlHhlzYLaiSoqjoqo7W48rADQ4/aEWhqQVWFH9cHbmJ16QutyTR0MRQHz5/NIr+4jGtX++CnvDc7JMgaQ1GAYWe5jB2+IPb6DQRUGpRholLVEKSBcS4fiJ++vZS5ymdB2NJhmBy6dXXomptC9+sXqDl9Cqokw3uiBdtu92PPjbTgKSyC3SP92DU3jOJzrTAUbesM+cZvHEpXTy+k8krsa2+F5/4gtg+QoGXDb7pwn6RxZiGN0u5WaEF1C4d8dWjHeDt19Y040piCTdNUqbWQ4yKYTEKpjkNLpKDVHIfZkIKSOgYlFodumPgH7efxKIxscLMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"New Project\"\n        title=\"\"\n        src=\"/static/16449ead89f8795ef134c56ea8ea8eff/f058b/new_project_image.png\"\n        srcset=\"/static/16449ead89f8795ef134c56ea8ea8eff/c26ae/new_project_image.png 158w,\n/static/16449ead89f8795ef134c56ea8ea8eff/6bdcf/new_project_image.png 315w,\n/static/16449ead89f8795ef134c56ea8ea8eff/f058b/new_project_image.png 630w,\n/static/16449ead89f8795ef134c56ea8ea8eff/612f7/new_project_image.png 773w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>아래와 같이 각 탭에 대한 pakage가 생성되고, 그 아래에 Fragment와 ViewModel 클래스가 만들어진다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 375px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/276ab12bf88f62c200f11b4f7fd12341/5ff7e/project_file_tree_image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 88.60759493670886%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAACAUlEQVR42p2UW4+bMBSE87Mawp2AjbFx7mWTSFupfaraPvT/S9M5hlSb1bIb7cMJmMQfc+aMs4izAkVZIe5PSP3XcJ/kXPP5Z2ohH3lBiNujOlzgNztk5ZrQkj8ow3W8L/7f39azwBUry3LotsPw/ANVraCMRdd7WL9B2zl0foueLzOuD88zdrJKZ4ABmuZIizXWqiX0O2rC5dlq+m5UWDym8GWlbF9R0f7pSpWOahtUjQ4loBv8YaBsEqjd7GEOA/T2wJZtaPumLkBnwIu331RiuYw4+QF2+AmlW2gCW0v/6KFxHqbfoKT6KMk+BopvURQh2ZzhLr8J1AEigzKECrwjUK7jcPL3W5bYtNyg/JGTvaChwkqNPla1DoNbq/H6ekCzwO3pjG5/wtp0KKo6tBamPpWsX7c73zLzFdHDxD/BnX9BU6GxHtr2IYeKkXp4yreSoaTbK9z1Dxo1Bj0MhVaIn9L+WxGajU3LTTWPo/Ojh6Jq9G4sseFhoHi4G66wuwOU7SZlnjFRWMYpVkk+G/D5HH5ZIpbYsGXN2Ih/0vbYugtVa4M0BP0jYEIVcYyUkemZw9aY4F07ZVAGY7nuxBba8W4OYzle7oi84hm2O/T7b9CMTqO7KYfqLo9iwx0wKQh4UauyhH3+i93xSlXiH9V5+tdwI//i4ryYKp+quNv/Dw5eg2z7SQFSAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Project File Tree\"\n        title=\"\"\n        src=\"/static/276ab12bf88f62c200f11b4f7fd12341/5ff7e/project_file_tree_image.png\"\n        srcset=\"/static/276ab12bf88f62c200f11b4f7fd12341/c26ae/project_file_tree_image.png 158w,\n/static/276ab12bf88f62c200f11b4f7fd12341/6bdcf/project_file_tree_image.png 315w,\n/static/276ab12bf88f62c200f11b4f7fd12341/5ff7e/project_file_tree_image.png 375w\"\n        sizes=\"(max-width: 375px) 100vw, 375px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>여기서 각 클래스의 코드를 확인해 보면 ViewModel에서 text를 설정하고, Fragment에서 이를 관찰하여 화면에 띄우는 방식으로 구현이 되어있다. (사실 이것이 ViewModel을 활용하는 방식이다.)</p>\n<p>아무튼 이것은 가장 처음에 기본적으로 만들어지는 형태이고,</p>\n<p>이 코드를 기반으로 나의 프로젝트에 맞게 일단 탭의 이름을 바꾸고 수정을 해주었다.</p>\n<p>(아래부터는 이번 프로젝트의 코드를 가져왔다.)</p>\n<br>\n<p>우선 ViewBinding을 활용하기 위해서 gradle 설정을 해주었다.</p>\n<p>module 단의 gradle 파일에 다음의 코드를 추가했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"gradle\"><pre class=\"language-gradle\"><code class=\"language-gradle\">android <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">...</span>\n    buildFeatures <span class=\"token punctuation\">{</span>\n        viewBinding <span class=\"token boolean\">true</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li><a href=\"https://developer.android.com/topic/libraries/view-binding?hl=ko\">https://developer.android.com/topic/libraries/view-binding?hl=ko</a></li>\n</ul>\n<p>ViewBinding 관련한 자세한 내용은 위의 링크에서 확인할 수 있다.</p>\n<br>\n<p>각 탭마다 방식은 같기 때문에 Home 탭의 코드를 가지고 기록을 해보려 한다.</p>\n<p>Home 탭에서 내가 설정한 관심 있는 경기장의 정보를 띄워주는 부분이 있다. 이 부분의 데이터를 띄우는 방식을 예시로 작성을 해보고자 한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 365px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5ab7a030284e10c066a5555937915978/2e8d1/model_folder_image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABPElEQVR42p1Sy1LDMAzsX8G0cfxIHDu2E9KWtpTS4QADd24MH79IJu2EDpdy2JGsxOtdSTNT1ZBxQHF4R914KDrPhcSiVGfMS5kxrZ1QSJ3BuaosZoIOonJQd1tsHo+oXQtpKui6IbgxNjCWcwtdjch1C6HMb0JOSm3ASpe7A9KwQps6uJAQuwGh68/wVMuIHULqkfoBytRENiHM7CybX6Lien/EsNnDOk81jduFyC2Yi3KMU6ifu/KC8ASWz3a61QbrhydUZMv6NtdZxfTfS/xJeCKtfUBY3sOu99mqpv5JsvYvwvyxELgxFun1C84ntGP/+DG2ejWh4JWwHvH5AyESWUxwbaRh9Rk8xKsIC244rUx8+UQbOniaesOENF1el6sVSl2hoItx+0aWIxwpbCg2bUBJOzpd6Mv+fwM0zmQs9L7bjgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Model Folder\"\n        title=\"\"\n        src=\"/static/5ab7a030284e10c066a5555937915978/2e8d1/model_folder_image.png\"\n        srcset=\"/static/5ab7a030284e10c066a5555937915978/c26ae/model_folder_image.png 158w,\n/static/5ab7a030284e10c066a5555937915978/6bdcf/model_folder_image.png 315w,\n/static/5ab7a030284e10c066a5555937915978/2e8d1/model_folder_image.png 365w\"\n        sizes=\"(max-width: 365px) 100vw, 365px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>우선 프로젝트 파일 아래 data 패키지를 만들고, model 패키지 아래에 StadiumInfo라는 data class를 만들었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">data</span> <span class=\"token keyword\">class</span> <span class=\"token function\">StadiumInfo</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">val</span> stadiumName<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">val</span> stadiumAddress<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">val</span> stadiumPhone<span class=\"token operator\">:</span> String\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>HomeViewModel에서는 다음과 같이 변수와 함수들을 정의해 주었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@HiltViewModel</span>\n<span class=\"token keyword\">class</span> HomeViewModel <span class=\"token annotation builtin\">@Inject</span> <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token function\">ViewModel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token operator\">..</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> _interestStadium <span class=\"token operator\">=</span> MutableLiveData<span class=\"token operator\">&lt;</span>StadiumInfo<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> interestStadium<span class=\"token operator\">:</span> LiveData<span class=\"token operator\">&lt;</span>StadiumInfo<span class=\"token operator\">></span> <span class=\"token operator\">=</span> _interestStadium\n\n    <span class=\"token operator\">..</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">loadInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        _interestStadium<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token function\">StadiumInfo</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"수원 KT 소닉붐 아레나\"</span></span><span class=\"token punctuation\">,</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"주소\"</span></span><span class=\"token punctuation\">,</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"전화번호\"</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token operator\">..</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ViewModel에서는 _interestStadium의 value를 설정해 주고,</p>\n<p>(원래는 DB에서 값을 가져와야 하지만 일단은 dummy data를 넣어주었다.)</p>\n<p>이후 Fragment에서는 아래와 같이 LiveData 타입인 interestStadium을 observe 하는 형태이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@AndroidEntryPoint</span>\n<span class=\"token keyword\">class</span> HomeFragment <span class=\"token operator\">:</span> <span class=\"token function\">Fragment</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">lateinit</span> <span class=\"token keyword\">var</span> homeViewModel<span class=\"token operator\">:</span> HomeViewModel\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> _binding<span class=\"token operator\">:</span> FragmentHomeBinding<span class=\"token operator\">?</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> binding <span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> _binding<span class=\"token operator\">!!</span>\n\n    <span class=\"token operator\">..</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">onCreateView</span><span class=\"token punctuation\">(</span>\n        inflater<span class=\"token operator\">:</span> LayoutInflater<span class=\"token punctuation\">,</span>\n        container<span class=\"token operator\">:</span> ViewGroup<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span>\n        savedInstanceState<span class=\"token operator\">:</span> Bundle<span class=\"token operator\">?</span>\n    <span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> View<span class=\"token operator\">?</span> <span class=\"token punctuation\">{</span>\n        homeViewModel <span class=\"token operator\">=</span> <span class=\"token function\">ViewModelProvider</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span>HomeViewModel<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">]</span>\n        _binding <span class=\"token operator\">=</span> FragmentHomeBinding<span class=\"token punctuation\">.</span><span class=\"token function\">inflate</span><span class=\"token punctuation\">(</span>inflater<span class=\"token punctuation\">,</span> container<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token keyword\">return</span> binding<span class=\"token punctuation\">.</span>root\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">onViewCreated</span><span class=\"token punctuation\">(</span>view<span class=\"token operator\">:</span> View<span class=\"token punctuation\">,</span> savedInstanceState<span class=\"token operator\">:</span> Bundle<span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">onViewCreated</span><span class=\"token punctuation\">(</span>view<span class=\"token punctuation\">,</span> savedInstanceState<span class=\"token punctuation\">)</span>\n        <span class=\"token function\">loadData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">renderUi</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">observe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">loadData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        homeViewModel<span class=\"token punctuation\">.</span><span class=\"token function\">loadInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token operator\">..</span><span class=\"token punctuation\">.</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">renderUi</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token operator\">..</span><span class=\"token punctuation\">.</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation builtin\">@SuppressLint</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"SetTextI18n\"</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">observe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">with</span><span class=\"token punctuation\">(</span>homeViewModel<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token operator\">..</span><span class=\"token punctuation\">.</span>\n            interestStadium<span class=\"token punctuation\">.</span><span class=\"token function\">observe</span><span class=\"token punctuation\">(</span>viewLifecycleOwner<span class=\"token punctuation\">,</span> Observer <span class=\"token punctuation\">{</span>\n                binding<span class=\"token punctuation\">.</span>stadiumName<span class=\"token punctuation\">.</span>text <span class=\"token operator\">=</span> it<span class=\"token punctuation\">.</span>stadiumName\n                binding<span class=\"token punctuation\">.</span>stadiumAddress<span class=\"token punctuation\">.</span>text <span class=\"token operator\">=</span> it<span class=\"token punctuation\">.</span>stadiumAddress\n                binding<span class=\"token punctuation\">.</span>stadiumPhoneNum<span class=\"token punctuation\">.</span>text <span class=\"token operator\">=</span> it<span class=\"token punctuation\">.</span>stadiumPhone\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n            <span class=\"token operator\">..</span><span class=\"token punctuation\">.</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">onDestroyView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">onDestroyView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        _binding <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>(다른 변수들에 대한 코드들은 ...으로 생략해서 적어놓았다.)</p>\n<p>HomeFragment의 observe 함수에서는 위에서 ViewModel에 정의한 interestStadium 변수를 observe 하고,</p>\n<p>변수의 값이 변한 것이 감지되면 경기장 정보를 띄우는 TextView의 text 값을 바꾸어 화면에서 내가 관심 있는 경기장 정보를 확인할 수 있도록 했다.</p>\n<p>​<br></p>\n<p>이렇게 안드로이드에서 제공하는 ViewModel과 LiveData를 활용하여 데이터를 로드하는 부분은 ViewModel에서 담당하고, Fragment에서는 UI와 관련된 작업들만 할 수 있도록 구현할 수 있다.</p>\n<p>이렇게 함으로써 코드의 복잡도도 줄일 수 있고, 나중에 코드를 다시 확인하거나 수정이 필요한 경우에도 더 쉽게 처리할 수 있을 것 같다.</p>","frontmatter":{"title":"[Android] ViewModel 활용하기","date":"June 07, 2022","description":"안드로이드 프로젝트에서 ViewModel 활용하기"}},"previous":null,"next":{"fields":{"slug":"/1/"},"frontmatter":{"title":"Github Pages와 Gatsby로 개발 블로그 만들기"}}},"pageContext":{"id":"322b7b21-7620-52e3-89f7-fb4030577ce1","previousPostId":null,"nextPostId":"86ffa3d4-79b0-5f48-b865-ada517745203"}},"staticQueryHashes":["2841359383","3257411868"],"slicesMap":{}}